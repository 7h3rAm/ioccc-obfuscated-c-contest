<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr"
 lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="KEYWORDS" content="Best game">
  <meta name="robots" content="index,follow">
  <link rel="shortcut icon" href="/favicon.ico">
  <title>Best game</title>
  <style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins/monobook/main.css"; /*]]>*/</style>
  <link rel="stylesheet" type="text/css" media="print"
 href="/skins/common/commonPrint.css">
<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/monobook/IE50Fixes.css";</style><![endif]--><!--[if IE 5.5000]><style type="text/css">@import "/skins/monobook/IE55Fixes.css";</style><![endif]--><!--[if gte IE 6]><style type="text/css">@import "/skins/monobook/IE60Fixes.css";</style><![endif]--><!--[if IE]><script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
  <script type="text/javascript"
 src="/index.php?title=-&amp;action=raw&amp;gen=js"></script>
  <script type="text/javascript" src="/skins/common/wikibits.js"></script>
  <style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
</head>
<body class="ns-0">
<div id="globalWrapper">
<div id="column-content">
<div id="content"> <a name="top" id="top"></a>
<h1 class="firstHeading">Best game</h1>
<div id="bodyContent">
<div id="contentSub">Oscar Toledo G.
</div>
<!-- start content -->
<p>Familia Toledo
</p>
<pre>  Av. Santa Cruz del Monte 9-304<br>  Ciudad Satelite Edo de Mexico<br>  CP 53110<br>  Mexico<br></pre>
<pre>  uno@biyubi.com<br></pre>
<table style="width: 543px; height: 287px;" id="toc" class="toc">
  <tbody>
    <tr>
      <td>
      <div id="toctitle">
      <h2>Contents</h2>
      </div>
      <ul>
        <li class="toclevel-1"><a href="#Judges.27_comments"><span
 class="tocnumber">1</span> <span class="toctext">Judges' comments</span></a></li>
        <li class="toclevel-1"><a href="#Improved_version"><span
 class="tocnumber">2</span> <span class="toctext">Improved version</span></a>
          <ul>
            <li class="toclevel-2"><a href="#To_build"><span
 class="tocnumber">2.1</span> <span class="toctext">To build</span></a></li>
            <li class="toclevel-2"><a href="#To_run"><span
 class="tocnumber">2.2</span> <span class="toctext">To run</span></a></li>
          </ul>
        </li>
        <li class="toclevel-1"><a href="#Author.27s_comments"><span
 class="tocnumber">3</span> <span class="toctext">Author's comments</span></a>
          <ul>
            <li class="toclevel-2"><a href="#What_does_this_program"><span
 class="tocnumber">3.1</span> <span class="toctext">What does this
program</span></a></li>
            <li class="toclevel-2"><a href="#Entering_movements"><span
 class="tocnumber">3.2</span> <span class="toctext">Entering movements</span></a></li>
            <li class="toclevel-2"><a href="#Game_status"><span
 class="tocnumber">3.3</span> <span class="toctext">Game status</span></a></li>
            <li class="toclevel-2"><a href="#Quirks"><span
 class="tocnumber">3.4</span> <span class="toctext">Quirks</span></a></li>
            <li class="toclevel-2"><a href="#Program_operation"><span
 class="tocnumber">3.5</span> <span class="toctext">Program operation</span></a></li>
            <li class="toclevel-2"><a href="#Obsfucation_tricks"><span
 class="tocnumber">3.6</span> <span class="toctext">Obsfucation tricks</span></a></li>
          </ul>
        </li>
      </ul>
      </td>
    </tr>
  </tbody>
</table>
<p>
<script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script></p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Judges.27_comments"></a>
<h2>Judges' comments</h2>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Improved_version"></a>
<h2>Improved versions</h2>
<p>Better mate searching
</p>
<p><a href="toledo2.c" class="internal" title="Toledo2.c">toledo2.c</a>
</p>
<p>Better castling checking
</p>
<p><a href="toledo3.c" class="internal" title="Toledo3.c">toledo3.c</a>
</p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="To_build"></a>
<h3>To build</h3>
<pre>  cc toledo.c -o toledo<br></pre>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="To_run"></a>
<h3>To run</h3>
<p>For two human players
</p>
<pre>  toledo<br></pre>
<p>To play against the program
</p>
<pre>  toledo a<br></pre>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Author.27s_comments"></a>
<h2>Author's comments</h2>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="What_does_this_program"></a>
<h3>What does this program</h3>
<p>This is a chess program, it can work in two
modes: two-players, and one player (always
white) against the machine. To get the first
mode, run the program without arguments:
</p>
<pre>     prog<br></pre>
<p>The other mode is accesible running the
program with one argument (5-ply analysis):
</p>
<pre>     prog a<br></pre>
<p>Two arguments for 6-ply analysis:
</p>
<pre>     prog a b<br></pre>
<p>And each succesive argument will analyze one
ply more. There is no ply limit, but beyond
7 ply is very slow, try it at your own risk
and computing time.
</p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Entering_movements"></a>
<h3>Entering movements</h3>
<p>When is your turn, you can enter your move,
by example, as "d2d4" (without the quotes)
and press the Enter key, the computer will
check move legality and will warn you of
illegal moves. All legal chess moves are
permitted.
</p>
<p>One special case is when you are doing
promotion, you must enter the move with an
extra letter indicating the desired piece.
</p>
<p>By example "f7f8n" (supossing you have a
pawn on f7), will promote it to a knight,
substitute 'n' for the desired piece
(N/Q/R/B).
</p>
<p>Note that the program requires the piece
letter, it will not select automatically a
queen, so don't be surprised if it doesn't
accept your move.
</p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Game_status"></a>
<h3>Game status</h3>
<p>The computer will check for checkmate and
stalemate, also after each machine move, it
will show the score of the position, an
higher number is better for the computer,
i.e. worst for you.
</p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Quirks"></a>
<h3>Quirks</h3>
<p>None.
</p>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Program_operation"></a>
<h3>Program operation</h3>
<p>This is a good example of a chess program
reduced to the essential. In order to get
it into the contest limits, I used short
but slow and unintelligible algorithms.
</p>
<p>The interface accounts for only a fraction of the code, the core
does multiples
functions, it is called recursively to
analyze and evaluate each ply, does alpha-beta cutting, move
generation,
machine playing, check detection, illegal
move verification and does moves after
they are verified.
</p>
<p>Also sets an standard on ultra-mini-chess
programs, the player and the computer can
do all legal chess moves, other features
are:
</p>
<ul>
  <li> Illegal move verification. </li>
  <li> Checkmate detection. </li>
  <li> Stalemate detection. </li>
  <li> Computer is tough (check 7-ply), even in 5 ply can give a
surprise to amateur players. </li>
</ul>
<div class="editsection" style="float: right; margin-left: 5px;"><br>
</div>
<a name="Obsfucation_tricks"></a>
<h3>Obsfucation tricks</h3>
<ul>
  <li> Only one C function, really modular. </li>
  <li> Extensive use of the trinary and comma operators, save a hard
drive today. </li>
  <li> Extensive use of C operator precedence, all good C programmers
remember it... I cannot. </li>
  <li> Exchanged operands every place is possible, someday someone will
understand it, </li>
  <li> Mixed and multifunction expressions on statements, in good
old-BASIC style. </li>
  <li> Macros used to hide C syntax, check unballanced parenthesis and
calls with empty arguments! </li>
  <li> Only includes strictly necessary standard headers, the linker
takes care, and compiles faster... but I'm still not seeing the
difference. </li>
  <li> Uses only one string, very easy to I18N&nbsp;;) </li>
</ul>
<br>
</div>
</div>
</div>
</div>
<!-- Served by infong241 in 0.34 secs. -->
</body>
</html>
